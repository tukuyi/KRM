on_actions = {
    on_peaceconference_ended = {
		effect = {
			if = {
				limit = {
					tag = SZC
				}
				if = {
					limit = {
						has_country_flag = NKRSZC_joinkmt
						owns_state =  613
						CHI = {
							exists = no
						}
					}
					country_event = { id = NKRsichuan.142 }
				}
			}
		}
	}

	
	on_declare_war = {
		effect = {
			if = {
				limit = {
					tag = SZC
					has_country_flag = NKRSZC_joinkmt
					FROM = { tag = LKT } 
				}
				country_event = {
					id = NKRsichuan.141
				}
			}
		}
	}

	on_state_control_changed = {
		effect = {
			if = {
				limit = {
					tag = SZC
					has_country_flag = NKRsichuan_YCPpath
				}
				if = {
					limit = {
						FROM.FROM = { state = 608 } #Jingzhao
					}
					country_event = { id = NKRsichuan.466 days = 7 } #北京已入我手
				}
			}
		}
	}

	


	on_unit_leader_level_up = {
		effect = {
			if = {
				limit = {
					SZC = {
						OR = {
							has_country_flag = NKRsichuan_YCPpath
							has_country_flag = NKRSZC_CDLpath
							has_country_flag = NKRSZC_joinkmt
						}
					}
					FROM = { tag = SZC }
					ROOT = { has_trait = war_hero }
				}
				unit_leader_event = NKRsichuanmisc.1 #Champion Event
			}
		}
	}

	on_daily_SZC = { #special puppets
		effect = {
			if = {
				limit = {
					GER = {
						exists = yes
						GER_kurt_von_schleicher = {
							is_second_in_command = yes
						}
					}
				}
				GER = {
					set_country_leader_ideology = authoritarian_democrat_spectral_state_subtype
				}
			}
		}
	}

	on_state_control_changed = {
		effect = {
			if = {
				limit = {
					tag = SZC
					has_country_flag = NKRsichuan_KMDpath
				}
				if = {
					limit = {
						FROM.FROM = { state = 597 } #JINAN
					}
					if = {
						limit = {
							FROM = {
								tag = SHD
							}
							SHD = {
								has_country_leader = { character = SHD_zhang_tianran }
							}
						}
						country_event = { id = NKRsichuanKMD.33 days = 2 } #杀进泰山，夺了鸟位！
					}
					else = {
						country_event = { id = NKRsichuanKMD.34 days = 2 } #杀进泰山，夺了鸟位！
					}
				}
			}
		}
	}

	on_army_leader_won_combat = {
		effect = {
			ROOT = {
				if = {
					limit = {
						tag = SZC
						has_country_flag = SZC_KMD_bingfa_available
					}
					if = {
						limit = {
							has_active_mission = SZC_KMD_jiaobing_mission
						}
						add_days_remove = {
							decision = SZC_KMD_jiaobing_mission
							days = 3
						}
					}
					if = {
						limit = {
							has_active_mission = SZC_KMD_aibing_mission
						}
						add_days_remove = {
							decision = SZC_KMD_aibing_mission
							days = -3
						}
					}
				}
			}
		}
	}

	on_army_leader_lost_combat = {
		effect = {
			ROOT = {
				if = {
					limit = {
						tag = SZC
						has_country_flag = SZC_KMD_bingfa_available
					}
					if = {
						limit = {
							has_active_mission = SZC_KMD_jiaobing_mission
						}
						add_days_remove = {
							decision = SZC_KMD_jiaobing_mission
							days = -3
						}
					}
					if = {
						limit = {
							has_active_mission = SZC_KMD_aibing_mission
						}
						add_days_remove = {
							decision = SZC_KMD_aibing_mission
							days = 3
						}
					}
				}
			}
		}
	}
}

